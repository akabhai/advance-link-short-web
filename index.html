<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureLink | Professional Shortener</title>
    <style>
        :root { --p: #6366f1; --p-h: #4f46e5; --bg: #0f172a; --card: #1e293b; --txt: #f8fafc; }
        body { margin: 0; font-family: 'Inter', sans-serif; background: var(--bg); color: var(--txt); display: flex; align-items: center; justify-content: center; min-height: 100vh; overflow: hidden; }
        .card { background: var(--card); padding: 2rem; border-radius: 1.5rem; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); width: 100%; max-width: 450px; text-align: center; border: 1px solid rgba(255,255,255,0.1); }
        h1 { font-size: 1.8rem; margin-bottom: 0.5rem; background: linear-gradient(to right, #818cf8, #c084fc); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        p { color: #94a3b8; font-size: 0.9rem; margin-bottom: 1.5rem; }
        input { width: 100%; padding: 12px 16px; border-radius: 0.75rem; border: 1px solid #334155; background: #0f172a; color: white; box-sizing: border-box; font-size: 1rem; margin-bottom: 1rem; transition: 0.2s; }
        input:focus { outline: none; border-color: var(--p); box-shadow: 0 0 0 3px rgba(99,102,241,0.2); }
        button { width: 100%; background: var(--p); color: white; border: none; padding: 12px; border-radius: 0.75rem; font-weight: 600; cursor: pointer; transition: 0.2s; }
        button:hover { background: var(--p-h); transform: translateY(-1px); }
        #result { margin-top: 1.5rem; display: none; background: rgba(0,0,0,0.2); padding: 1rem; border-radius: 0.5rem; word-break: break-all; font-family: monospace; font-size: 0.85rem; border: 1px dashed #475569; position: relative; }
        .copy-btn { margin-top: 0.5rem; font-size: 0.7rem; color: var(--p); cursor: pointer; text-decoration: underline; }
    </style>
</head>
<body oncontextmenu="return false;">
    <div class="card">
        <h1>SecureLink</h1>
        <p>Enter a URL to generate a hardened link.</p>
        <input type="url" id="urlInput" placeholder="https://example.com" required>
        <button onclick="generateLink()">Generate Secure Link</button>
        <div id="result">
            <div id="shortUrl"></div>
            <div class="copy-btn" onclick="copyUrl()">Copy to clipboard</div>
        </div>
    </div>

    <script>
        const SALT = "SECURE_GATE_99"; // Change this!
        const BASE_DOMAIN = window.location.origin + window.location.pathname.replace('index.html', '');

        async function hash(str) {
            const msgUint8 = new TextEncoder().encode(str + SALT);
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgUint8);
            return Array.from(new Uint8Array(hashBuffer)).map(b => b.toString(16).padStart(2, '0')).join('');
        }

        async function generateLink() {
            const url = document.getElementById('urlInput').value;
            if(!url.startsWith('https://')) return alert('HTTPS only allowed!');
            
            const encoded = btoa(url);
            const signature = await hash(encoded);
            const finalUrl = `${BASE_DOMAIN}go/?u=${encodeURIComponent(encoded)}&h=${signature}`;
            
            document.getElementById('result').style.display = 'block';
            document.getElementById('shortUrl').innerText = finalUrl;
        }

        function copyUrl() {
            navigator.clipboard.writeText(document.getElementById('shortUrl').innerText);
            alert('Copied!');
        }

        // Anti-Inspect
        document.onkeydown = (e) => {
            if (e.keyCode == 123 || (e.ctrlKey && e.shiftKey && [73, 74, 85].includes(e.keyCode))) return false;
        };
    </script>
</body>
</html>
